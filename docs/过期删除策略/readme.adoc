
= 过期删除策略

== 过期键删除方式

. 定时删除（过期时触发删除操作）

    在设置键的过期时间的同时，创建一个定时器timer。
    让定时器在键的过期时间来临时，立即执行对键的删除操作。

. 惰性删除（取值时删）

    放任键过期不管，但是每次从键空间中获取键时，都检查取得的键是否过期，如果过期的话，就删除该键；如果没有过期，就返回该键。

. 定期删除

    每隔一段时间程序就对数据库进行一次检查，删除里面的过期键。
    至于要删除多少过期键，以及要检查多少个数据库，则由算法决定。

== 淘汰策略（算法）

. volatile-lru

    从已设置过期时间的数据集(server.db[d.expires)中挑选最近最少使用的数据淘汰

. volatile-ttl

    从已设置过期时间的数据集(server..db[d.expires)中挑选将要过期的数据淘汰

. volatile-random:

    从已设置过期时间的数据集(server..db[U.expires)中任意选择数据淘汰

. allkeys-lru

    从数据集(server.dbd.dict)中挑选最近最少使用的数据淘汰

. allkeys-random:

    从数据集(server..db[d.dict)中任意选择数据淘汰

. no-enviction（驱逐）：

    禁止驱逐数据
